
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Deployment &#8212; Netmaker 0.9.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Distributed Cluster Guidance" href="distributed-guides.html" />
    <link rel="prev" title="Core Concepts" href="core-concepts.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=indigo data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#deployment" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Netmaker 0.9.4 documentation"
           class="md-header-nav__button md-logo">
          
            <i class="md-icon">&#xe869</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">NM K8S Docs</span>
          <span class="md-header-nav__topic"> Deployment </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/gravitl/netmaker/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Netmaker
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Netmaker 0.9.4 documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Netmaker 0.9.4 documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">&#xe869</i>
      
    </a>
    <a href="index.html"
       title="Netmaker 0.9.4 documentation">NM K8S Docs</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/gravitl/netmaker/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Netmaker
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="core-concepts.html" class="md-nav__link">Core Concepts</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="core-concepts.html#inflexible-clusters" class="md-nav__link">Inflexible Clusters</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="core-concepts.html#remote-access-outbound" class="md-nav__link">Remote Access (outbound)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="core-concepts.html#remote-access-inbound" class="md-nav__link">Remote Access (inbound)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="core-concepts.html#cross-cluster-networking" class="md-nav__link">Cross-Cluster Networking</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Deployment </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Deployment</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#deployment--page-root" class="md-nav__link">Deployment</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#server-installation" class="md-nav__link">1) Server Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#considerations" class="md-nav__link">Considerations</a>
        </li>
        <li class="md-nav__item"><a href="#installation" class="md-nav__link">Installation</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#network-creation" class="md-nav__link">2) Network Creation</a>
        </li>
        <li class="md-nav__item"><a href="#client-installation" class="md-nav__link">3) Client Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">Considerations</a>
        </li>
        <li class="md-nav__item"><a href="#binary-on-host-pre-k8s" class="md-nav__link">Binary on Host (pre-K8S)</a>
        </li>
        <li class="md-nav__item"><a href="#containerized-post-k8s" class="md-nav__link">Containerized (post-K8S)</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#server-installation" class="md-nav__link">1) Server Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#network-creation" class="md-nav__link">2) Network Creation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#client-installation" class="md-nav__link">3) Client Installation</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="distributed-guides.html" class="md-nav__link">Distributed Cluster Guidance</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="distributed-guides.html#cluster-install" class="md-nav__link">Cluster Install</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="distributed-guides.html#wide-nodes" class="md-nav__link">Wide Nodes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="distributed-guides.html#cloud-bursting" class="md-nav__link">Cloud Bursting</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="distributed-guides.html#edge-based-clusters" class="md-nav__link">Edge-Based Clusters</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="additional-guides.html" class="md-nav__link">Additional Guides</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="additional-guides.html#remote-access-inbound" class="md-nav__link">Remote Access (Inbound)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="additional-guides.html#remote-access-outbound" class="md-nav__link">Remote Access (Outbound)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="additional-guides.html#cluster-nat-gateway" class="md-nav__link">Cluster NAT Gateway</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="additional-guides.html#multi-cluster-networking" class="md-nav__link">Multi-Cluster Networking</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html" class="md-nav__link">Resources</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="resources.html#github" class="md-nav__link">GitHub</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html#netmaker-docs" class="md-nav__link">Netmaker Docs</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html#white-paper" class="md-nav__link">White Paper</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html#gravitl-website" class="md-nav__link">Gravitl Website</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html#community-discord" class="md-nav__link">Community Discord</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="resources.html#external-tutorials" class="md-nav__link">External Tutorials</a>
      
    
    </li></ul>
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#deployment--page-root" class="md-nav__link">Deployment</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#server-installation" class="md-nav__link">1) Server Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#considerations" class="md-nav__link">Considerations</a>
        </li>
        <li class="md-nav__item"><a href="#installation" class="md-nav__link">Installation</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#network-creation" class="md-nav__link">2) Network Creation</a>
        </li>
        <li class="md-nav__item"><a href="#client-installation" class="md-nav__link">3) Client Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">Considerations</a>
        </li>
        <li class="md-nav__item"><a href="#binary-on-host-pre-k8s" class="md-nav__link">Binary on Host (pre-K8S)</a>
        </li>
        <li class="md-nav__item"><a href="#containerized-post-k8s" class="md-nav__link">Containerized (post-K8S)</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="deployment--page-root">Deployment<a class="headerlink" href="#deployment--page-root" title="Permalink to this headline">¶</a></h1>
<p>This page covers the general guidance for the 3 stages of a Netmaker deployment: Server Installation, Network Creation, and Client Installation</p>

<h2 id="server-installation">1) Server Installation<a class="headerlink" href="#server-installation" title="Permalink to this headline">¶</a></h2>

<h3 id="considerations">Considerations<a class="headerlink" href="#considerations" title="Permalink to this headline">¶</a></h3>
<p>It is typically recommend to deploy the Netmaker server either on its own VM, or on a dedicated “management” cluster. The Netmaker server acts best when it is in a dedicated environment. This avoids interference by separating it from the “managed” environments.</p>
<p>In most scenarios, the Netmaker server should not run inside a cluster where it will also be configuring the cluster network. If a failure occurs and the Netmaker server runs inside of the cluster, then the Netmaker server will become unreachable for debugging, making the fix much more difficult.</p>
<p>Except in special circumstances, the best place for the Netmaker server is a dedicated, globally accessible location.</p>


<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>With the above guidance in mind, there are several ways to install the server, based on the environment and how you wish to maintain your server.</p>
<p><a class="reference external" href="https://github.com/gravitl/netmaker/tree/master#get-started-in-5-minutes">For Trials, PoC’s, and Experimenting</a> - Use this if you are just looking to try out Netmaker.</p>
<p><a class="reference external" href="https://docs.netmaker.org/quick-start.html">For Small Deployments (Single Server, Non-HA)</a> - Use this if you are deploying for yourself or a small team.</p>
<p><a class="reference external" href="https://docs.netmaker.org/server-installation.html#highly-available-installation-kubernetes">For a Highly Available Server on Kubernetes</a> - Use this if deploying on K8S (again, we recommend a dedicated cluster).</p>
<p><a class="reference external" href="https://docs.netmaker.org/server-installation.html#highly-available-installation-vms-bare-metal">For a Highly Available Server (non-K8S)</a> - Use this if you need HA but don’t want a dedicated cluster.</p>



<h2 id="network-creation">2) Network Creation<a class="headerlink" href="#network-creation" title="Permalink to this headline">¶</a></h2>
<p>After deploying your Netmaker server via Step #1, you will need to navigate to your dashboard, and will be directed to create a user.</p>
<p>After creating a user and logging in, you will then need to create a network in order to set up your Kubernetes use case.</p>
<p>The Primary consideration here is that typically, UDP Hole Punching is not necessary. Why? Because Kubernetes nodes tend to be statically defined servers with dedicated IPs. We are not expecting them to move frequently, change addresses or be behind separate NAT’s. Because of this, we recommend keeping UDP Hole Punching switched off.</p>
<p>The other necessary consideration is address range. Make sure to choose an address range that will not conflict with:</p>
<ol class="loweralpha simple">
<li><p>The Kubernetes host subnet</p></li>
<li><p>The Kubernetes service network</p></li>
<li><p>The Kubernetes pod network</p></li>
</ol>
<p>Outside of this, any (private) address range should work.</p>
<a class="reference internal image-reference" href="_images/deploy1.png"><img alt="Create Network" class="align-center" src="_images/deploy1.png" style="width: 75%;"/></a>
<p>After creating your network, you may want to change a few default settings to make it more Kubernetes-friendly.</p>
<p>Primarily, if deploying into containers on top of the cluster, you may want to change the MTU and the default port. Running in containers which go through multiple layers of traffic routing can lead to a larger MTU failing in some scenarios. 1024 is often a good number.</p>
<p>In addition, consider changing the default port. If deploying onto containers using NodePorts, the default of 51821 is too high, since NodePorts use 30000-32767. 31821 might be a good default port to choose.</p>
<a class="reference internal image-reference" href="_images/deploy2.png"><img alt="Edit Network" class="align-center" src="_images/deploy2.png" style="width: 75%;"/></a>


<h2 id="client-installation">3) Client Installation<a class="headerlink" href="#client-installation" title="Permalink to this headline">¶</a></h2>
<p>Once a network has been created, it’s time to add nodes to the network.</p>

<h3 id="id1">Considerations<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>For Kubernetes scenarios, the client can be installed:</p>
<ol class="arabic simple">
<li><p>Directly on the host as a binary + service</p></li>
<li><p>As a container on the cluster</p></li>
</ol>
<p>Option #1 is only necessary when building distributed clusters. This is because the virtual network must be created before the cluster is installed, so the netclient can’t be deployed to a container on the cluster yet. The Cluster/CNI is then configured during installation to use the interface created by the netclient for intra-cluster networking.</p>
<p>For all other scenarios (remote access, multi-cluster networking, etc), we recommend deploying the client via containers. In some situations this will be a daemonset, and in others, it will be a standalone container on a dedicated host (usually for gateways).</p>
<p>The following is guidance for those two primary methods.</p>


<h3 id="binary-on-host-pre-k8s">Binary on Host (pre-K8S)<a class="headerlink" href="#binary-on-host-pre-k8s" title="Permalink to this headline">¶</a></h3>
<p>Regular client install instructions can be followed here: <a class="reference external" href="https://docs.netmaker.org/getting-started.html#deploy-nodes">https://docs.netmaker.org/getting-started.html#deploy-nodes</a></p>
<p>More detailed client install instructions can be found here: <a class="reference external" href="https://docs.netmaker.org/client-installation.html">https://docs.netmaker.org/client-installation.html</a></p>
<p>After the client has been installed, you may want to change some of the node settings. For instance, if the node is expected to maintain a constant IP address, it may be best to turn off “Roaming” and turn on “Is Static”. You may also want to reduce MTU (if you’re not getting a connection), change the port (if there’s a conflict), or even change the endpoint, if you’d prefer intra-cluster traffic to occur over a different address range.</p>
<a class="reference internal image-reference" href="_images/deploy3.png"><img alt="Edit Network" class="align-center" src="_images/deploy3.png" style="width: 75%;"/></a>


<h3 id="containerized-post-k8s">Containerized (post-K8S)<a class="headerlink" href="#containerized-post-k8s" title="Permalink to this headline">¶</a></h3>
<p>To deploy in a container, you will need a manifest. Examples can be found here: <a class="reference external" href="https://github.com/gravitl/netmak8s">https://github.com/gravitl/netmak8s</a></p>
<p>If deploying a daemonset to encompass all (or most) nodes, use netclient-daemonset.yml as the basis. You will need to insert a key (TOKEN_VALUE), and change the netclient image tag to the appropriate version (e.g. v0.9.3).</p>
<p>If deploying a gateway, use netclient-gateway.yml as the basis. You will need to insert a key (TOKEN_VALUE), and change the netclient image tag to the appropriate version (e.g. v0.9.3).</p>
<p>There are various ways these manifests can be modified to match various scenarios which you should be aware of:</p>
<p><strong>Port:</strong> Rather than specify a port, UDP Hole Punching can be used. In this case, the fields for NETCLIENT_IS_STATIC, NETCLIENT_ROAMING, NETCLIENT_PORT, and NETCLIENT_ENDPOINT can be left blank. For typical deployments, we recommend leaving these fields set.</p>
<p><strong>NodePort:</strong> In some scenarios, you will want to pair a NodePort with the Port. For instance, if you cannot deploy the netclient with host privileges/networking, you can remove these privileges in the manifest, expose the port on the pod, and create a NodePort service that will route traffic to the pod. In such a scenario we recommend using 31821 as the Port for WireGuard in the manifest. You should then use the <strong>same</strong> NodePort to map to the DaemonSet. Here is an example manifest: <a class="reference external" href="https://raw.githubusercontent.com/gravitl/netmak8s/main/nodeport-example.yaml">https://raw.githubusercontent.com/gravitl/netmak8s/main/nodeport-example.yaml</a></p>
<p><strong>Kernel WireGuard:</strong> The container ships with wireguard-go, which is slower than kernel WireGuard. Often, a DevOps engineer or Developer will not have control over the underlying infrastructure. If it’s a cloud provider k8s distribution, even the operations team often cannot do much about OS-level dependencies. However, if you do have the option to SSH into the host machines and install software, it is preferable to have kernel WireGuard installed.</p>
<p>In such cases, after installing kernel WireGuard on the host (e.g. <cite>apt install wireguard wireguard-tools</cite>), you can use the kernel versions of the manifests (netclient-gateway-kernel.yml and netclient-daemonset.yml)</p>
<p>For DigitalOcean, we also have a manifest that will both deploy the netclient and a WireGuard controller, which will install WireGuard on the host whenever it is not present. Something similar can be done for other cloud providers, but you must know the correct commands to run in order to install WireGuard (must know underlying OS). Then you can simply modify the script (inline in the yaml) to install on your cloud: <a class="reference external" href="https://github.com/gravitl/netmaker/blob/master/kube/netclient-template-doks.yaml">https://github.com/gravitl/netmaker/blob/master/kube/netclient-template-doks.yaml</a></p>





          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="core-concepts.html" title="Core Concepts"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Core Concepts </span>
              </div>
            </a>
          
          
            <a href="distributed-guides.html" title="Distributed Cluster Guidance"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Distributed Cluster Guidance </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Alex Feiszli.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>